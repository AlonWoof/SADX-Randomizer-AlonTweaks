#pragma once

enum CutsceneFlag {
	SonicIntro = 1,
	SonicOutro = 0x26,
	TailsIntro = 0x30,
	TailsOutro = 0x52,
	AmyIntro = 0x60,
	AmyOutro = 0x72,
	KnuxIntro = 0x80,
	KnuxOutro = 0x9F,
	GammaIntro = 0x0B0,
	BigIntro = 0x0D0,
	BigOutri = 0x0E2

};

enum EventFlag
{
	SSVAR_EGG_ON = 0x40,
	FLAG_SONIC_PLAYABLE = 0x41,
	FLAG_MILES_PLAYABLE = 0x42,
	FLAG_KNUCKLES_PLAYABLE = 0x43,
	FLAG_AMY_PLAYABLE = 0x44,
	FLAG_E102_PLAYABLE = 0x45,
	FLAG_BIG_PLAYABLE = 0x46,
	FLAG_SUPERSONIC_PLAYABLE = 0x47,
	FLAG_SONIC_COMPLETE = 0x48,
	FLAG_MILES_COMPLETE = 0x49,
	FLAG_KNUCKLES_COMPLETE = 0x4A,
	FLAG_AMY_COMPLETE = 0x4B,
	FLAG_E102_COMPLETE = 0x4C,
	FLAG_BIG_COMPLETE = 0x4D,
	FLAG_SUPERSONIC_COMPLETE = 0x4E,
	FLAG_GET_GOLDEGG = 0x4F,
	FLAG_GET_SILVEREGG = 0x50,
	FLAG_GET_BLACKEGG = 0x51,
	FLAG_SONIC_CHAO_GARDEN = 0x52,
	FLAG_MILES_CHAO_GARDEN = 0x53,
	FLAG_KNUCKLES_CHAO_GARDEN = 0x54,
	FLAG_AMY_CHAO_GARDEN = 0x55,
	FLAG_E102_CHAO_GARDEN = 0x56,
	FLAG_BIG_CHAO_GARDEN = 0x57,
	FLAG_PLAYING_SUPERSONIC = 0x58,
	FLAG_METALSONIC_PLAYABLE = 0x59,
	FLAG_SONIC_SS_BARRICADE = 0x80,
	FLAG_SONIC_SS_HOTEL_FRONT = 0x81,
	FLAG_SONIC_SS_STATION_FRONT = 0x82,
	FLAG_SONIC_SS_ENTRANCE_SEWER = 0x83,
	FLAG_SONIC_SS_EXIT_SEWER = 0x84,
	FLAG_SONIC_SS_ICESTONE = 0x85,
	FLAG_SONIC_SS_HOTEL_BACK = 0x86,
	FLAG_SONIC_SS_ENTRANCE_CASINO = 0x87,
	FLAG_SONIC_SS_STATION_BACK = 0x88,
	FLAG_SONIC_SS_TPARK_ELEVATOR = 0x89,
	FLAG_SONIC_SS_ENTRANCE_CIRCUIT = 0x8A,
	FLAG_SONIC_SS_CARD = 0x8B,
	FLAG_SONIC_SS_ENTRANCE_HIGHWAY = 0x8C,
	FLAG_SONIC_SS_LIGHTSHOOSE = 0x8D,
	FLAG_SONIC_SS_CRYSTALRING = 0x8E,
	FLAG_SONIC_EC_MONORAIL = 0x8F,
	FLAG_SONIC_EC_EGGLIFT = 0x90,
	FLAG_SONIC_EC_TRANSFORM = 0x91,
	FLAG_SONIC_EC_TORNADO2_LOST = 0x92,
	FLAG_SONIC_EC_SINK = 0x93,
	FLAG_SONIC_MR_WINDYSTONE = 0x94,
	FLAG_SONIC_MR_ENTRANCE_WINDY = 0x95,
	FLAG_SONIC_MR_WESTROCK = 0x96,
	FLAG_SONIC_MR_ICESTONE = 0x97,
	FLAG_SONIC_MR_ENTRANCE_ICECAP = 0x98,
	FLAG_SONIC_MR_ENTRANCE_MOUNTAIN = 0x99,
	FLAG_SONIC_MR_ISLANDDOOR = 0x9A,
	FLAG_SONIC_MR_TRUCK = 0x9B,
	FLAG_SONIC_MR_ENTRANCE_RUIN = 0x9C,
	FLAG_SONIC_MR_APPEAR_FINALEGG = 0x9D,
	FLAG_SONIC_MR_ENTRANCE_SANDBOARD = 0x9E,
	FLAG_SONIC_MR_ANCIENT_LIGHT = 0x9F,
	FLAG_SONIC_MR_ENTRANCE_FINALEGG = 0xA0,
	FLAG_SONIC_TRAIN = 0xA1,
	FLAG_SONIC_BOAT = 0xA2,
	FLAG_SONIC_RAFT = 0xA3,
	FLAG_SONIC_MBOSS_E102 = 0xA4,
	FLAG_SONIC_MBOSS_KNUCKLES = 0xA5,
	FLAG_SONIC_CLEAR_BEACH = 0xA6,
	FLAG_SONIC_CLEAR_WINDY = 0xA7,
	FLAG_SONIC_CLEAR_CASINO = 0xA8,
	FLAG_SONIC_CLEAR_TWINKLEPARK = 0xA9,
	FLAG_SONIC_CLEAR_HIGHWAY = 0xAA,
	FLAG_SONIC_CLEAR_MOUNTAIN = 0xAB,
	FLAG_SONIC_CLEAR_SNOW = 0xAC,
	FLAG_SONIC_CLEAR_SKYDECK = 0xAD,
	FLAG_SONIC_CLEAR_RUIN = 0xAE,
	FLAG_SONIC_CLEAR_FINALEGG = 0xAF,
	FLAG_SONIC_CLEAR_CHAOS0 = 0xB0,
	FLAG_SONIC_CLEAR_CHAOS4 = 0xB1,
	FLAG_SONIC_CLEAR_CHAOS6 = 0xB2,
	FLAG_SONIC_CLEAR_EGGMOBILE1 = 0xB3,
	FLAG_SONIC_CLEAR_EGGMOBILE3 = 0xB4,
	FLAG_SONIC_CLEAR_SHOOTING = 0xB5,
	FLAG_SONIC_CLEAR_SHOOTING2 = 0xB6,
	FLAG_SONIC_ARRIVE_IN_SS = 0xB7,
	FLAG_SONIC_ARRIVE_IN_EC = 0xB8,
	FLAG_SONIC_ARRIVE_IN_MR = 0xB9,
	FLAG_MILES_SS_BARRICADE = 0xC0,
	FLAG_MILES_SS_HOTEL_FRONT = 0xC1,
	FLAG_MILES_SS_HOTEL_BACK = 0xC2,
	FLAG_MILES_SS_HOTEL_POOL = 0xC3,
	FLAG_MILES_SS_ICESTONE = 0xC4,
	FLAG_MILES_SS_ENTRANCE_CASINO = 0xC5,
	FLAG_MILES_SS_ENTRANCE_HIGHWAY = 0xC6,
	FLAG_MILES_SS_TPARK_ELEVATOR = 0xC7,
	FLAG_MILES_SS_ENTRANCE_CIRCUIT = 0xC8,
	FLAG_MILES_SS_CARTPASSPORT = 0xC9,
	FLAG_MILES_SS_STATION_FRONT = 0xCA,
	FLAG_MILES_SS_STATION_BACK = 0xCB,
	FLAG_MILES_SS_HOTELSWITCH = 0xCC,
	FLAG_MILES_SS_JETANKLET = 0xCD,
	FLAG_MILES_EC_MONORAIL = 0xCE,
	FLAG_MILES_EC_EGGLIFT = 0xCF,
	FLAG_MILES_EC_TRANSFORM = 0xD0,
	FLAG_MILES_EC_TORNADO2_LOST = 0xD1,
	FLAG_MILES_EC_SINK = 0xD2,
	FLAG_MILES_MR_WINDYSTONE = 0xD3,
	FLAG_MILES_MR_ENTRANCE_WINDY = 0xD4,
	FLAG_MILES_MR_WESTROCK = 0xD5,
	FLAG_MILES_MR_ICESTONE = 0xD6,
	FLAG_MILES_MR_ENTRANCE_ICECAP = 0xD7,
	FLAG_MILES_MR_TRUCK = 0xD8,
	FLAG_MILES_MR_ENTRANCE_RUIN = 0xD9,
	FLAG_MILES_MR_ENTRANCE_SANDBOARD = 0xDA,
	FLAG_MILES_MR_RHYTHMBROOCH = 0xDB,
	FLAG_MILES_TRAIN = 0xDC,
	FLAG_MILES_BOAT = 0xDD,
	FLAG_MILES_RAFT = 0xDE,
	FLAG_MILES_MBOSS_E102 = 0xDF,
	FLAG_MILES_MBOSS_KNUCKLES = 0xE0,
	FLAG_MILES_CLEAR_WINDY = 0xE1,
	FLAG_MILES_CLEAR_CASINO = 0xE2,
	FLAG_MILES_CLEAR_HIGHWAY = 0xE3,
	FLAG_MILES_CLEAR_SNOW = 0xE4,
	FLAG_MILES_CLEAR_SKYDECK = 0xE5,
	FLAG_MILES_CLEAR_SANDBOARD = 0xE6,
	FLAG_MILES_CLEAR_CHAOS4 = 0xE7,
	FLAG_MILES_CLEAR_EGGMOBILE2 = 0xE8,
	FLAG_MILES_CLEAR_EGGMOBILE1 = 0xE9,
	FLAG_MILES_CLEAR_SHOOTING = 0xEA,
	FLAG_MILES_CLEAR_SHOOTING2 = 0xEB,
	FLAG_MILES_CLEAR_BEACH = 0xEC,
	FLAG_MILES_CLEAR_MOUNTAIN = 0xED,
	FLAG_MILES_ARRIVE_IN_SS = 0xEE,
	FLAG_MILES_ARRIVE_IN_EC = 0xEF,
	FLAG_MILES_ARRIVE_IN_MR = 0xF0,
	FLAG_KNUCKLES_SS_BARRICADE = 0x100,
	FLAG_KNUCKLES_SS_HOTEL_FRONT = 0x101,
	FLAG_KNUCKLES_SS_HOTEL_BACK = 0x102,
	FLAG_KNUCKLES_SS_ENTRANCE_CASINO = 0x103,
	FLAG_KNUCKLES_SS_ENTRANCE_HIGHWAY = 0x104,
	FLAG_KNUCKLES_SS_TPARK_ELEVATOR = 0x105,
	FLAG_KNUCKLES_SS_ENTRANCE_CIRCUIT = 0x106,
	FLAG_KNUCKLES_SS_CARTPASSPORT = 0x107,
	FLAG_KNUCKLES_SS_STATION_FRONT = 0x108,
	FLAG_KNUCKLES_SS_STATION_BACK = 0x109,
	FLAG_KNUCKLES_EC_MONORAIL = 0x10A,
	FLAG_KNUCKLES_EC_EGGLIFT = 0x10B,
	FLAG_KNUCKLES_EC_TRANSFORM = 0x10C,
	FLAG_KNUCKLES_EC_PALMSWITCH = 0x10D,
	FLAG_KNUCKLES_EC_TORNADO2_LOST = 0x10E,
	FLAG_KNUCKLES_EC_SINK = 0x10F,
	FLAG_KNUCKLES_MR_ENTRANCE_MOUNTAIN = 0x110,
	FLAG_KNUCKLES_MR_WESTROCK = 0x111,
	FLAG_KNUCKLES_MR_ISLANDDOOR = 0x112,
	FLAG_KNUCKLES_MR_MONKEYDOOR = 0x113,
	FLAG_KNUCKLES_MR_TRUCK = 0x114,
	FLAG_KNUCKLES_MR_REDCUBE = 0x115,
	FLAG_KNUCKLES_MR_BLUECUBE = 0x116,
	FLAG_KNUCKLES_MR_ENTRANCE_RUIN = 0x117,
	FLAG_KNUCKLES_MR_APPEAR_FINALEGG = 0x118,
	FLAG_KNUCKLES_MR_SHOVELCLAW = 0x119,
	FLAG_KNUCKLES_MR_FIGHTINGGROVE = 0x11A,
	FLAG_KNUCKLES_TRAIN = 0x11B,
	FLAG_KNUCKLES_BOAT = 0x11C,
	FLAG_KNUCKLES_RAFT = 0x11D,
	FLAG_KNUCKLES_MBOSS_SONIC = 0x11E,
	FLAG_KNUCKLES_CLEAR_CASINO = 0x11F,
	FLAG_KNUCKLES_CLEAR_HIGHWAY = 0x120,
	FLAG_KNUCKLES_CLEAR_MOUNTAIN = 0x121,
	FLAG_KNUCKLES_CLEAR_RUIN = 0x122,
	FLAG_KNUCKLES_CLEAR_CHAOS2 = 0x123,
	FLAG_KNUCKLES_CLEAR_CHAOS6 = 0x124,
	FLAG_KNUCKLES_CLEAR_CHAOS4 = 0x125,
	FLAG_KNUCKLES_CLEAR_SKYDECK = 0x126,
	FLAG_KNUCKLES_ARRIVE_IN_SS = 0x127,
	FLAG_KNUCKLES_ARRIVE_IN_EC = 0x128,
	FLAG_KNUCKLES_ARRIVE_IN_MR = 0x129,
	FLAG_KNUCKLES_MR_MONKEYDOOR_ENTER = 0x12A,
	FLAG_KNUCKLES_MR_MONKEYCAGEA_BOMB = 0x12B,
	FLAG_KNUCKLES_SS_ENTRANCE_CHAOS2 = 0x12C,
	FLAG_AMY_SS_HOTEL_FRONT = 0x140,
	FLAG_AMY_SS_HOTEL_BACK = 0x141,
	FLAG_AMY_SS_HOTEL_POOL = 0x142,
	FLAG_AMY_SS_ENTRANCE_CASINO = 0x143,
	FLAG_AMY_SS_TPARK_ELEVATOR = 0x144,
	FLAG_AMY_SS_ENTRANCE_CIRCUIT = 0x145,
	FLAG_AMY_SS_STATION_FRONT = 0x146,
	FLAG_AMY_SS_STATION_BACK = 0x147,
	FLAG_AMY_EC_MONORAIL = 0x148,
	FLAG_AMY_EC_EGGLIFT = 0x149,
	FLAG_AMY_EC_TRANSFORM = 0x14A,
	FLAG_AMY_EC_MOGURATATAKI = 0x14B,
	FLAG_AMY_EC_TORNADO2_LOST = 0x14C,
	FLAG_AMY_EC_SINK = 0x14D,
	FLAG_AMY_MR_ISLANDDOOR = 0x14E,
	FLAG_AMY_MR_TRUCK = 0x14F,
	FLAG_AMY_MR_APPEAR_FINALEGG = 0x150,
	FLAG_AMY_MR_ENTRANCE_FINALEGG = 0x151,
	FLAG_AMY_MR_FIGHTERSFEATHER = 0x152,
	FLAG_AMY_TRAIN = 0x153,
	FLAG_AMY_BOAT = 0x154,
	FLAG_AMY_RAFT = 0x155,
	FLAG_AMY_CLEAR_TWINKLEPARK = 0x156,
	FLAG_AMY_CLEAR_HOTSHELTER = 0x157,
	FLAG_AMY_CLEAR_FINALEGG = 0x158,
	FLAG_AMY_CLEAR_ZERO = 0x159,
	FLAG_AMY_EC_1STVISIT = 0x15A,
	FLAG_AMY_ARRIVE_IN_SS = 0x15B,
	FLAG_AMY_ARRIVE_IN_EC = 0x15C,
	FLAG_AMY_ARRIVE_IN_MR = 0x15D,
	FLAG_AMY_EC_LONGHAMMER = 0x15E,
	FLAG_E102_SS_HOTEL_FRONT = 0x180,
	FLAG_E102_SS_HOTEL_POOL = 0x181,
	FLAG_E102_SS_STATION_FRONT = 0x182,
	FLAG_E102_SS_TPARK_ELEVATOR = 0x183,
	FLAG_E102_SS_ENTRANCE_CIRCUIT = 0x184,
	FLAG_E102_SS_CARTPASSPORT = 0x185,
	FLAG_E102_EC_MONORAIL = 0x186,
	FLAG_E102_EC_EGGLIFT = 0x187,
	FLAG_E102_EC_TRANSFORM = 0x188,
	FLAG_E102_EC_BOOSTER = 0x189,
	FLAG_E102_EC_TYPE3LASER = 0x18A,
	FLAG_E102_EC_TORNADO2_LOST = 0x18B,
	FLAG_E102_EC_SINK = 0x18C,
	FLAG_E102_EC_HOTSHELTER = 0x18D,
	FLAG_E102_MR_GOODSCORE = 0x18E,
	FLAG_E102_MR_FREEPASS = 0x18F,
	FLAG_E102_MR_WINDYSTONE = 0x190,
	FLAG_E102_MR_ENTRANCE_WINDY = 0x191,
	FLAG_E102_MR_WESTROCK = 0x192,
	FLAG_E102_MR_ENTRANCE_MOUNTAIN = 0x193,
	FLAG_E102_MR_ISLANDDOOR = 0x194,
	FLAG_E102_MR_TRUCK = 0x195,
	FLAG_E102_MR_APPEAR_FINALEGG = 0x196,
	FLAG_E102_TRAIN = 0x197,
	FLAG_E102_BOAT = 0x198,
	FLAG_E102_RAFT = 0x199,
	FLAG_E102_MBOSS_SONIC = 0x19A,
	FLAG_E102_CLEAR_BEACH = 0x19B,
	FLAG_E102_CLEAR_WINDY = 0x19C,
	FLAG_E102_CLEAR_MOUNTAIN = 0x19D,
	FLAG_E102_CLEAR_HOTSHELTER = 0x19E,
	FLAG_E102_CLEAR_FINALEGG = 0x19F,
	FLAG_E102_CLEAR_E101 = 0x1A0,
	FLAG_E102_CLEAR_E101R = 0x1A1,
	FLAG_E102_ARRIVE_IN_SS = 0x1A2,
	FLAG_E102_ARRIVE_IN_EC = 0x1A3,
	FLAG_E102_ARRIVE_IN_MR = 0x1A4,
	FLAG_BIG_SS_HOTEL_FRONT = 0x1C0,
	FLAG_BIG_SS_HOTEL_BACK = 0x1C1,
	FLAG_BIG_SS_TPARK_ELEVATOR = 0x1C2,
	FLAG_BIG_SS_ENTRANCE_CIRCUIT = 0x1C3,
	FLAG_BIG_SS_STATION_FRONT = 0x1C4,
	FLAG_BIG_SS_ICESTONE = 0x1C5,
	FLAG_BIG_SS_HOTEL_POOL = 0x1C6,
	FLAG_BIG_EC_MONORAIL = 0x1C7,
	FLAG_BIG_EC_EGGLIFT = 0x1C8,
	FLAG_BIG_EC_TRANSFORM = 0x1C9,
	FLAG_BIG_EC_TORNADO2_LOST = 0x1CA,
	FLAG_BIG_EC_SINK = 0x1CB,
	FLAG_BIG_MR_WESTROCK = 0x1CC,
	FLAG_BIG_MR_ICESTONE = 0x1CD,
	FLAG_BIG_MR_ENTRANCE_ICECAP = 0x1CE,
	FLAG_BIG_MR_TRUCK = 0x1CF,
	FLAG_BIG_MR_LIFEBELT = 0x1D0,
	FLAG_BIG_MR_POWERROD = 0x1D1,
	FLAG_BIG_TRAIN = 0x1D2,
	FLAG_BIG_BOAT = 0x1D3,
	FLAG_BIG_RAFT = 0x1D4,
	FLAG_BIG_CLEAR_BEACH = 0x1D5,
	FLAG_BIG_CLEAR_HOTSHELTER = 0x1D6,
	FLAG_BIG_CLEAR_TWINKLEPARK = 0x1D7,
	FLAG_BIG_CLEAR_SNOW = 0x1D8,
	FLAG_BIG_CLEAR_CHAOS6 = 0x1D9,
	FLAG_BIG_ARRIVE_IN_SS = 0x1DA,
	FLAG_BIG_ARRIVE_IN_EC = 0x1DB,
	FLAG_BIG_ARRIVE_IN_MR = 0x1DC,
	FLAG_BIG_ARRIVE_IN_SEWER = 0x1DD,
	FLAG_BIG_RUAR_BLUE = 0x1DE,
	FLAG_BIG_RUAR_GOLD = 0x1DF,
	FLAG_BIG_RUAR_NORMAL = 0x1E0,
	FLAG_BIG_RUAR_RED = 0x1E1,
	FLAG_BIG_RUAR_SILVER = 0x1E2,
	FLAG_EVENT_HINTBOX_DISP = 0x1E3,
	FLAG_EVENT_NPC_DISP = 0x1E4,
	FLAG_ALL_LAST = 0x1E5,
};

struct AdventureData_
{
	char TimeOfDay;
	char emerald;
	__int16 seqno;
	__int16 seq;
	__int16 nextsec;
	unsigned __int16 stage;
	unsigned __int16 destination;
};

struct SceneSelectData_
{
	void* Code;
	char Level;
	char Act;
	__int16 Entrance;
	char Name[32];
};


struct DemoData
{
	__int16 level;
	__int16 act;
	__int16 character;
	__int16 cutscene;
};

struct CutsceneLevelData
{
	int cutscene_id;
	int level;
	int act;
	int character;
	char scene_select;
};


FunctionPointer(void, EV_Wait, (int time), 0x4314d0);
FunctionPointer(void, StopMusicAndLoadNextMenu, (int a1), 0x505B40);
FunctionPointer(void, SeqRun, (), 0x412AC0);
FunctionPointer(void, SeqSetPlayer, (__int16 character), 0x413380);
FunctionPointer(void, SeqSetSection, (__int16 sequence), 0x4133E0);
FunctionPointer(void, RunSceneSelect, (), 0x413870);
DataPointer(ObjectMaster*, CurrentMenuObjectMaster_Maybe, 0x3C5E8D0);
DataPointer(DemoData, FirstDemo, 0x913AE0);
DataArray(DemoData, DemosArray, 0x913AE0, 6);
DataArray(LandTable*, LandTableArray, 0x97DBE8, 193);
DataPointer(AdventureData_*, CurrentAdventureData_, 0x3B0EF4C);
DataPointer(SceneSelectData_*, CurrentSceneSelectData, 0x03B18A08);
DataArray(AdventureData, Stories, 0x3B183A8, 8);

DataPointer(float, flt_3B18244, 0x3B18244);
DataPointer(int, dword_3B28114, 0x3B28114);
ObjectFunc(SeqTaskFadeIn, 0x412fe0);
FunctionPointer(void, EventCutscene_Load2, (long flag), 0x42fa30);
FunctionPointer(void, EV_InitPlayer, (int player), 0x431780);
VoidFunc(EventCutscene_Exec2, 0x431430);
void Init_RandomCutscene();